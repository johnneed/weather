"use strict";angular.module("weatherApp",["ngCookies","ngResource","ngRoute"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/main.html",controller:"MainCtrl"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("weatherApp").controller("MainCtrl",["$scope","weatherService",function(a,b){function c(a){var b=/^\d{5}?$/;return b.test(a)}function d(b){return b.message?(a.cityNotFound=!0,a.zipCode="",a.localWeather={},null):(a.localWeather=b,void(a.cityNotFound=!1))}function e(){var c=a.zipCode;c&&c.length>=5&&b.fetchWeatherData(c,d)}a.cityNotFound=!1,a.fetchWeatherData=e,a.localWeather={},a.zipCode="",a.isValidZip=c}]),angular.module("weatherApp").directive("datadisplay",function(){return{templateUrl:"views/my-weather.html",restrict:"E"}}),angular.module("weatherApp").service("weatherService",["$rootScope","$http",function(a,b){function c(a){return Math.floor(9*a/5-459.67)}function d(a){this.description=a.data.weather[0].description,this.humidity=a.data.main.humidity+"%",this.temp=c(a.data.main.temp)+"Â°F",this.pressure=a.data.main.pressure+"mmHg",this.zip=a.zip}var e={getByZip:"http://api.openweathermap.org/data/2.5/weather?zip={{zip}},us&appid=bd82977b86bf27fb59a04b61b657fb6f"};this.fetchWeatherData=function(a,c){var f=e.getByZip.replace("{{zip}}",a);b.get(f).success(function(b){var e={zip:a};e.data=b,c("404"===b.cod?new Error("Invalid Zip Code"):new d(e))}).error(function(a){c(a)})}}]);